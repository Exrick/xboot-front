webpackJsonp([11],{"9g/a":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r("uAC3");var s={data:function(){var t=this;return{captchaId:"",verifyCodeImg:"",error:!1,errorMsg:"",loading:!1,sended:!1,count:60,countButton:"60 s",maxLength:4,tipStyle:"password-tip-weak",strength:"太短",select:"86",strengthValue:33,errorCode:"",form:{username:"",password:"",confirmPass:"",mobile:"",verifyCode:"",verify:""},rules:{username:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{validator:function(t,e,r){e.length<6?r(new Error("密码长度不得小于6位")):r()},trigger:"blur"}],confirmPass:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{validator:function(e,r,s){r.length<6?s(new Error("密码长度不得小于6位")):r!==t.form.password?s(new Error("两次输入的密码不一致")):s()},trigger:"blur"}],mobile:[{required:!0,message:"手机号不能为空",trigger:"blur"},{validator:function(t,e,r){/^[1][3,4,5,7,8][0-9]{9}$/.test(e)?r():r(new Error("手机号格式错误"))},trigger:"blur"}],verify:[{required:!0,message:"验证码不能为空",trigger:"blur"}]}}},methods:{showErrorMsg:function(t){this.error=!0,this.errorMsg=t},strengthChange:function(){var t=this.form.password.length;t<6?(this.tipStyle="password-tip-weak",this.strength="太短",this.strengthValue=33):t>=6&&t<10?(this.tipStyle="password-tip-middle",this.strength="中",this.strengthValue=66):(this.tipStyle="password-tip-strong",this.strength="强",this.strengthValue=100)},sendVerify:function(){var t=this;this.$refs.registForm.validate(function(e){e&&(t.sended=!0,t.countDown())})},countDown:function(){var t=this;if(0===this.count)return this.sended=!1,void(this.count=60);this.countButton=this.count+" s",this.count--,setTimeout(function(){t.countDown()},1e3)},submitRegist:function(){var t=this;this.$refs.registForm.validate(function(e){if(e){if(""===t.form.verifyCode)return void(t.errorCode="验证码不能为空");t.errorCode="",t.form.captchaId=t.captchaId,t.postRequest("/user/regist",t.form).then(function(e){if(!0===e.success){var r={username:t.form.username};t.$router.push({name:"regist-result",query:r})}else t.getVerifyCode()})}})},getVerifyCode:function(){var t=this;this.getRequest("/common/captcha/init").then(function(e){!0===e.success&&(t.captchaId=e.result.captchaId,t.verifyCodeImg="/common/captcha/draw/"+t.captchaId)})}},mounted:function(){this.getVerifyCode()}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Row",{staticClass:"regist",attrs:{type:"flex",justify:"center",align:"middle"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submitRegist(e):null}}},[s("Col",{staticStyle:{width:"368px"},attrs:{xs:{span:22}}},[s("Row",{staticClass:"header"},[s("img",{attrs:{src:r("Cq5Z"),width:"220px"}}),t._v(" "),s("div",{staticClass:"description"},[t._v("X-Boot 是很不错的Web前后端分离架构脚手架")])]),t._v(" "),t.error?s("Alert",{attrs:{type:"error","show-icon":""}},[t._v(t._s(t.errorMsg))]):t._e(),t._v(" "),s("Row",{staticClass:"regist-form"},[s("Form",{ref:"registForm",staticClass:"form",attrs:{model:t.form,rules:t.rules}},[s("span",{staticClass:"regist-title"},[t._v("\n                    注册\n                ")]),t._v(" "),s("FormItem",{attrs:{prop:"username"}},[s("Input",{attrs:{size:"large",clearable:"",placeholder:"请输入用户名"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),s("FormItem",{attrs:{prop:"password"}},[s("Poptip",{attrs:{placement:"right",width:"250"}},[s("Input",{attrs:{type:"password",size:"large",clearable:"",placeholder:"请输入密码"},on:{"on-change":t.strengthChange},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t._v(" "),s("div",{class:t.tipStyle,attrs:{slot:"content"},slot:"content"},[s("span",{staticClass:"words"},[t._v("强度 : "+t._s(t.strength))]),t._v(" "),s("Slider",{staticStyle:{width:"95%"},attrs:{step:33},model:{value:t.strengthValue,callback:function(e){t.strengthValue=e},expression:"strengthValue"}}),t._v("\n                          请至少输入 6 个字符。请不要使"),s("br"),t._v("用容易被猜到的密码。\n                        ")],1)],1)],1),t._v(" "),s("FormItem",{attrs:{prop:"confirmPass"}},[s("Input",{attrs:{type:"password",size:"large",clearable:"",placeholder:"请再次输入确认密码"},model:{value:t.form.confirmPass,callback:function(e){t.$set(t.form,"confirmPass",e)},expression:"form.confirmPass"}})],1),t._v(" "),s("FormItem",{attrs:{prop:"mobile"}},[s("Input",{attrs:{size:"large",clearable:"",placeholder:"请输入手机号"},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}},[s("Select",{staticStyle:{width:"70px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},[s("Option",{attrs:{value:"86"}},[t._v("+86")])],1)],1)],1),t._v(" "),s("FormItem",{attrs:{prop:"verifyCode",error:t.errorCode}},[s("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"space-between"}},[s("Input",{staticClass:"input-verify",attrs:{size:"large",clearable:"",placeholder:"请输入短信验证码",maxlength:t.maxLength},model:{value:t.form.verifyCode,callback:function(e){t.$set(t.form,"verifyCode",e)},expression:"form.verifyCode"}}),t._v(" "),t.sended?t._e():s("Button",{staticClass:"send-verify",attrs:{size:"large"},on:{click:t.sendVerify}},[t._v("获取验证码")]),t._v(" "),t.sended?s("Button",{staticClass:"count-verify",attrs:{size:"large",disabled:""}},[t._v(t._s(t.countButton))]):t._e()],1)],1),t._v(" "),s("FormItem",{attrs:{prop:"verify"}},[s("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"space-between"}},[s("Input",{staticClass:"input-verify",attrs:{size:"large",clearable:"",placeholder:"请输入验证码",maxlength:t.maxLength},model:{value:t.form.verify,callback:function(e){t.$set(t.form,"verify",e)},expression:"form.verify"}}),t._v(" "),s("img",{staticStyle:{width:"100px",cursor:"pointer"},attrs:{src:t.verifyCodeImg},on:{click:t.getVerifyCode}})],1)],1)],1),t._v(" "),s("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"space-between"}},[s("Button",{staticClass:"regist-btn",attrs:{type:"primary",size:"large",loading:t.loading},on:{click:t.submitRegist}},[t.loading?s("span",[t._v("注册中...")]):s("span",[t._v("注册")])]),t._v(" "),s("router-link",{attrs:{to:"/login"}},[s("a",{staticClass:"to-login"},[t._v("使用已有账号登录")])])],1)],1),t._v(" "),s("Row",{staticClass:"foot"},[s("Row",{staticClass:"code-row-bg help",attrs:{type:"flex",justify:"space-around"}},[s("a",{staticClass:"item"},[t._v("帮助")]),t._v(" "),s("a",{staticClass:"item"},[t._v("隐私")]),t._v(" "),s("a",{staticClass:"item"},[t._v("条款")])]),t._v(" "),s("Row",{staticClass:"code-row-bg copyright",attrs:{type:"flex",justify:"center"}},[t._v("\n                Copyright © 2018 "),s("a",{staticStyle:{margin:"0 5px"},attrs:{href:"http://exrick.cn",target:"_blank"}},[t._v("Exrick")]),t._v(" Presents\n            ")])],1)],1)],1)},staticRenderFns:[]};var o=r("Z0/y")(s,a,!1,function(t){r("xspu")},null,null);e.default=o.exports},xspu:function(t,e){}});
//# sourceMappingURL=11.a6c4782490cd05aaecc0.js.map